"use strict";angular.module("rsgraphsApp",["ngAnimate","ngCookies","ngResource","ui.router","ngSanitize","ngTouch","chart.js"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){c.html5Mode(!0),a.state("dashboard",{url:"/",templateUrl:"views/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashCtrl"}).state("graph",{url:"/graph/:id",templateUrl:"views/graph.html",controller:"GraphCtrl",controllerAs:"graphCtrl"}),b.otherwise("/")}]),function(){function a(a){function b(b){var c={params:{item:b}};return a.get("https://services.runescape.com/m=itemdb_oldschool/api/catalogue/detail.json",c)}function c(b){var c={params:{a:"graph",i:b,g:30,start:moment().subtract(1,"weeks").valueOf()}};return console.log(c.params.start),a.get("https://api.rsbuddy.com/grandExchange",c)}return{getInfo:b,getPrices:c}}angular.module("rsgraphsApp").factory("RSUtils",a),a.$inject=["$http"]}(),angular.module("rsgraphsApp").controller("DashboardCtrl",function(){this.hi="hi",this.help="test"}),function(){function a(a,b,c){function d(){var d=b.id;a.getInfo(d).then(function(a){e.item=a.data.item}),a.getPrices(d).then(function(a){e.data=a.data,e.timestamps=e.data.map(function(a){return c("date")(a.ts,"MMM dd - h:mm a")}),e.buyPrice=e.data.map(function(a){return void 0===a.buyingPrice?void 0:a.buyingPrice}),e.sellPrice=e.data.map(function(a){return void 0===a.sellingPrice?void 0:a.sellingPrice}),e.buyVolume=e.data.map(function(a){return a.buyingCompleted}),e.sellVolume=e.data.map(function(a){return a.sellingCompleted}),e.series=["Buy Price","Sell Price"],e.chartData=[e.buyPrice,e.sellPrice],console.log(e.series),console.log(e.chartData),e.options={spanGaps:!0,pointRadius:1,scales:{yAxes:[{ticks:{callback:function(a){return c("number")(a)}}}]}}})}var e=this;d()}angular.module("rsgraphsApp").controller("GraphCtrl",a),a.$inject=["RSUtils","$stateParams","$filter"]}(),angular.module("rsgraphsApp").run(["$templateCache",function(a){a.put("views/dashboard.html",'<div class="row"> <div class="col-xs-12 col-md-6"> <h3>Rising prices</h3> <ul> <li ng-bind="dashCtrl.hi"></li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> </ul> </div> <div class="col-xs-12 col-md-6"> <h3>Falling prices</h3> <ul> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> </ul> </div> </div> <div class="row"> <div class="col-xs-12 col-md-6"> <h3>Watchlist</h3> <ul> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> </ul> </div> <div class="col-xs-12 col-md-6"> <h3>Most valuable items</h3> <ul> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> <li>Lorem Ipsum #1</li> </ul> </div> </div>'),a.put("views/graph.html",'<div class="row" ng-if="graphCtrl.item"> <div class="col-xs-12 col-sm-2"> <div class="panel panel-default"> <div class="panel-body"> <h3 ng-bind="graphCtrl.item.name"></h3> <img ng-src="{{graphCtrl.item.icon}}"> <span ng-bind="graphCtrl.item.description"></span> <ul class="list-group"> <li id="buy-price" class="list-group-item" ng-bind="graphCtrl.buyPrice[graphCtrl.buyPrice.length - 1]"></li> <li id="sell-price" class="list-group-item" ng-bind="graphCtrl.sellPrice[graphCtrl.sellPrice.length - 1]"></li> <li id="volume" class="list-group-item">Volume</li> <li id="buy-volume" class="list-group-item" ng-bind="graphCtrl.buyVolume[graphCtrl.buyVolume.length - 1]">Buy Vol</li> <li id="sell-volume" class="list-group-item" ng-bind="graphCtrl.sellVolume[graphCtrl.sellVolume.length - 1]">Sell Vol</li> <li id="5-period" class="list-group-item">5 Period</li> <li id="20-period" class="list-group-item">20 Period</li> </ul> </div> </div> </div> <div class="col-xs-12 col-sm-9"> <canvas id="line" class="chart chart-line" chart-data="graphCtrl.chartData" chart-labels="graphCtrl.timestamps" chart-series="graphCtrl.series" chart-options="graphCtrl.options"> </canvas> </div> </div>')}]);